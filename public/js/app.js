$(document).ready((function(){const e=$("#water"),n=$("#content-section"),t=$("#win-section");let o;let i,a,s;$("#start-button").click((async function(){$(this).hide();try{const c=await navigator.mediaDevices.getUserMedia({audio:!0});o=new(window.AudioContext||window.webkitAudioContext),i=o.createAnalyser(),a=o.createMediaStreamSource(c),gainNode=o.createGain(),gainNode.gain.value=.15,a.connect(gainNode),gainNode.connect(i),i.fftSize=256;const r=i.frequencyBinCount;s=new Uint8Array(r),function o(){i.getByteFrequencyData(s);const a=Math.max(...s)/256*100;if(e.css("height",a+"vh"),a>=99)return e.css("height","100vh"),n.addClass("hide").removeClass("show"),setTimeout((function(){n.css("display","none"),t.css("display","block"),setTimeout((function(){t.addClass("show").removeClass("hide"),$("body").css("background","#646464")}),20)}),500),void $(".win-message").show();requestAnimationFrame(o)}()}catch(e){console.error("Error accessing microphone:",e)}}))}));